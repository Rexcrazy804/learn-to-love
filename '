---@class Polygon
---@field vertices [number, number][]
Polygon = {}
Polygon.__index = Polygon

---# Constructer for the Polygon class
---@param vertices [number, number][]
---@return Polygon
function Polygon:new(vertices)
  self = setmetatable({}, Polygon)
  self.vertices = vertices
  return self
end

---# Converts vertices to number[]
---@return number[]
function Polygon:normalizedVertices()
  local output = {}
  for i = 1, #self.vertices do
    output[#output + 1] = self.vertices[i][1]
    output[#output + 1] = self.vertices[i][2]
  end
  return output
end

---@param value number
---@param coordinate "x" | "y" | "both"
function Polygon:update(coordinate, value)
  for i = 1, #self.vertices do
    if coordinate == "x" then
      self.vertices[i][1] = self.vertices[i][1] + value
    elseif coordinate == "y" then
      self.vertices[i][2] = self.vertices[i][2] + value
    else
      self.vertices[i][1] = self.vertices[i][1] + value
      self.vertices[i][2] = self.vertices[i][2] + value
    end
  end
end
